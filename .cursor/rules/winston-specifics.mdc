---
alwaysApply: false
---

````
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                            CURSOR IDE RULE FILE
                     âœ¦  MASTERING WINSTON LOGGING v3 âœ¦
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€


CONTENTS
âŠ Core Principles & Vocabulary
â‹ Installation Matrix
âŒ Logger Anatomy (Blueprint)
â Levels Reference & Colorization
â Formats Pipeline (with Cook-book)
â Transports Catalog & Options
â Advanced Features
    â€¢ Exceptions + Rejections
    â€¢ Child / Scoped Loggers
    â€¢ Profiling / Timers
    â€¢ Querying & Streaming
â‘ Patterns & Recipes (Drop-ins)
â’ Custom Transports (Boilerplate)
â“ Best-Practices, Anti-Patterns, FAQ
â“« Troubleshooting Checklist
â“¬ Appendix (Cheat-Sheet & Links)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âŠ  CORE PRINCIPLES & VOCABULARY
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â€¢ Logger â€”â€”â€” an object created via `winston.createLogger(opts)`.
â€¢ Transport â€”â€” a storage/output target (Console, File, HTTP, Stream, â€¦).
â€¢ Format â€”â€”â€”  a pure function (or pipeline) that mutates an `info` object.
â€¢ Info Object â€”â€” shape: `{ level, message, ...meta }` (+ Symbol fields).
â€¢ Level â€”â€”â€”  severity threshold (numeric ascending per RFC 5424).

Rule 1â€ƒEvery logger **MUST** have â‰¥ 1 transport OR risk silent memory leaks.
Rule 2â€ƒFormats execute **in order**; returning `false` short-circuits the rest.
Rule 3â€ƒ`logger.*()` shortcut methods are generated from `levels` at instantiation.
Rule 4â€ƒTreat `info` as immutable **only** if your format clones or uses Immer.
Rule 5â€ƒNEVER leave `console.log` in production code once Winston is installed.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â‹  INSTALLATION MATRIX
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â€¢ Baseâ€ƒâ€ƒ`npm i winston` â€‚orâ€‚`yarn add winston`
â€¢ TS typesâ€ƒNo extra package; bundled in `index.d.ts`.
â€¢ Cloud / rotation:
    â€“ Daily rotate      `npm i winston-daily-rotate-file`
    â€“ AWS CloudWatch    `npm i @initd.sg/winston-cloudwatch`
    â€“ Papertrail / Loggly etc. see community transports.
Node Compatibility: v14 LTS âœ v22. Set `"type":"module"` for ESM.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âŒ  LOGGER ANATOMY  (â€œBLUEPRINTâ€)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
```ts
import winston from 'winston';
const { combine, timestamp, json, colorize, printf, splat } = winston.format;

export const log = winston.createLogger({
  level        : process.env.LOG_LEVEL ?? 'info',
  defaultMeta  : { service: 'api-gateway' },
  format       : combine(
                   splat(),
                   timestamp({ format: 'YYYY-MM-DD HH:mm:ss.SSS' }),
                   process.env.NODE_ENV === 'production'
                     ? json()
                     : colorize({ all:true }),
                   process.env.NODE_ENV === 'production'
                     ? winston.format.uncolorize()
                     : printf(({ timestamp, level, message, ...m }) =>
                         `${timestamp} ${level} ${message}${
                           Object.keys(m).length ? ' '+JSON.stringify(m) : ''}`)
                 ),
  transports   : [
    new winston.transports.Console({ handleExceptions:true }),
    new winston.transports.File({
      filename : 'logs/error.log',
      level    : 'error',
      maxsize  :  5_000_000,      // rotate at 5 MB
      maxFiles :  3
    }),
    ...(process.env.NODE_ENV === 'production' ? [] : [
      new winston.transports.File({ filename:'logs/combined.log' })
    ])
  ],
  exceptionHandlers : [ new winston.transports.File({ filename:'logs/exc.log' }) ],
  rejectionHandlers : [ new winston.transports.File({ filename:'logs/rej.log' }) ],
  exitOnError       : false
});
````

Notes:
â€¢ `combine()` returns a pre-instantiated format; no opts allowed.
â€¢ Place `splat()` *before* anything that reads `%` interpolation.
â€¢ Add/remove transports later with `logger.add()` / `.remove()` / `.clear()`.
â€¢ Listener `log.on('finish', â€¦)` fires when `.end()` flushes streams.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â  LEVELS REFERENCE & COLORIZATION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Default **npm** map (â†‘ critical â†’ â†“ verbose):

| Name    | Priority | Shortcut | Color   |
| ------- | -------- | -------- | ------- |
| error   | 0        | .error   | red     |
| warn    | 1        | .warn    | yellow  |
| info    | 2        | .info    | green   |
| http    | 3        | .http    | magenta |
| verbose | 4        | .verbose | cyan    |
| debug   | 5        | .debug   | blue    |
| silly   | 6        | .silly   | gray    |

Custom levels:

```ts
winston.addColors({ fatal:'bold red', trace:'dim gray' });
const cust = winston.createLogger({
  levels:{ fatal:0, error:1, warn:2, info:3, debug:4, trace:5 }
});
cust.fatal('ğŸ”¥ system down');
```

Colorize **before** formatters that emit the colored text; use `{ all:true }`
when coloring JSON or the entire line.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â  FORMATS PIPELINE  (â€œCOOK-BOOKâ€)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Available stock formatters (import via `winston.format.*`):
â€¢ `json()`              â€”â€” pure JSON string output.
â€¢ `simple()`            â€”â€” `${level}: ${message} ${â€¦meta}` (no timestamp).
â€¢ `prettyPrint()`       â€”â€” multi-line JSON, 2-space indent.
â€¢ `timestamp()`         â€”â€” adds `info.timestamp`.
â€¢ `label()`             â€”â€” attaches `info.label`.
â€¢ `colorize()`          â€”â€” wraps ANSI colors around `level` (+ optionally msg).
â€¢ `printf(fn)`          â€”â€” freeform template (return string).
â€¢ `splat()`             â€”â€” util.format interpolation (`%d`, `%s`, etc.).
â€¢ `ms()`                â€”â€” delta since prev log (`info.ms`).

Pattern examples:

1ï¸âƒ£  Ignore private logs

```ts
const ignorePrivate = winston.format(info => info.private ? false : info);
```

2ï¸âƒ£  Upper / lower case mutator

```ts
const volume = winston.format((i, { yell, whisper }) => {
  if (yell) i.message = i.message.toUpperCase();
  if (whisper) i.message = i.message.toLowerCase();
  return i;
});
const scream = volume({ yell:true });
```

3ï¸âƒ£  Request-ID enricher (Express middleware)

```ts
app.use((req, _, next) => {
  req.log = log.child({ reqId: req.headers['x-request-id'] ?? nanoid() });
  next();
});
```

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â  TRANSPORTS CATALOG & OPTIONS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ Transport (core)             â”‚ Key Options (superset)                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Console                      â”‚ level, format, handleExceptions,           â”‚
â”‚                              â”‚ handleRejections, stderrLevels,            â”‚
â”‚                              â”‚ forceConsole (route to console.\*)          â”‚
â”‚ File                         â”‚ filename, dirname, maxsize, maxFiles,      â”‚
â”‚                              â”‚ tailable, zippedArchive                    â”‚
â”‚ HTTP                         â”‚ host, port, path, ssl, auth                â”‚
â”‚ Stream                       â”‚ stream\:Writable, eol, close                â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Community highlights:
â€¢ winston-daily-rotate-file â€”â€” date-based rotations (`YYYY-MM-DD` suffix).
â€¢ Cloud / SaaS â€”â€” Winston transports exist for Datadog, Loggly, Sentry, etc.
Multiple transports of same type are allowed; identify via custom `name` or
by searching such as `logger.transports.find(t => t.filename==='errors.log')`.

Remove example:

```ts
const errorsT = logger.transports.find(t => t.level==='error' && t.filename);
logger.remove(errorsT);
```

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â  ADVANCED FEATURES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
A)  Exceptions & Rejections
â€“ Centralize with `exceptionHandlers` / `rejectionHandlers`
â€“ Toggle auto-exit via `exitOnError` (bool or `(err)=>bool`).

B)  Child / Scoped Loggers

```ts
const scoped = logger.child({ tenant:'acme', correlationId:uuidv4() });
scoped.info('action complete');
```

Children inherit transports + format; metadata is shallow-merged.

C)  Profiling & Timers

```ts
logger.profile('db');          // start
â€¦ await query();
logger.profile('db');          // stop & auto-log duration (info)
```

Or manual timer:

```ts
const t = logger.startTimer();
heavyTask().then(() => t.done({ level:'debug', message:'heavyTask ok' }));
```

D)  Query & Stream (rare)

```ts
logger.query({ limit:20, order:'desc' }, cb);
logger.stream({ start:-1 }).on('log', l => â€¦);
```

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â‘  PATTERNS & RECIPES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. **Prod vs Dev switcher** (file+JSON vs colorful console) â€”â€” see Blueprint.
2. **Express HTTP Access Log**

```ts
import morgan from 'morgan';
// Pipe morganâ€™s stream into Winston at 'http' level
app.use(morgan('combined', {
  stream: { write: msg => logger.http(msg.trim()) }
}));
```

3. **Micro-service container**

```ts
winston.loggers.add('payment', { â€¦ });
winston.loggers.add('email',   { â€¦ });
winston.loggers.get('payment').error('charge failed');
```

4. **VS Code debug attach / Jest silent**

```ts
new winston.transports.Console({ forceConsole:true });
```

5. **Daily rotation (14-day retention)**

```ts
import 'winston-daily-rotate-file';
logger.add(new winston.transports.DailyRotateFile({
  filename   : 'logs/app-%DATE%.log',
  datePattern: 'YYYY-MM-DD',
  maxFiles   : '14d'
}));
```

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â’  CUSTOM TRANSPORT BOILERPLATE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

```ts
import Transport from 'winston-transport';
export class MyApiTransport extends Transport {
  constructor(opts){ super(opts); /* store opts */ }
  log(info, cb){
    setImmediate(() => this.emit('logged', info));
    fetch('https://log.myapi.dev', {
      method : 'POST',
      body   : JSON.stringify(info),
      headers: { 'Content-Type':'application/json' }
    }).catch(console.error);
    cb();
  }
}
logger.add(new MyApiTransport({ level:'debug' }));
```

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â“  BEST-PRACTICES, ANTI-PATTERNS, FAQ
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ” DO colocate `logger` import at file top; keep a **single** instance per app.
âœ” DO enrich logs with correlation/request IDs for distributed tracing.
âœ” DO externalize `LOG_LEVEL`, `LOG_TO_FILE`, rotation via ENV for 12-factor apps.
âœ” DO listen to `logger.on('error', â€¦)` to avoid â€œUnhandled â€˜errorâ€™ eventâ€.

âœ— DONâ€™T block in a custom transport; use `setImmediate` + async I/O.
âœ— DONâ€™T mutate `info` after `this.emit('logged', info)` inside transports.
âœ— DONâ€™T mix colorized logs with JSON consumers (ELK, CloudWatch) â€” use env toggle.
âœ— DONâ€™T leave the default logger **without** transports (memory leak).

FAQ
Q: â€œWhy are my debug logs missing?â€ â€”â€” Ensure `logger.level='debug'` AND each
transportâ€™s `level` â‰¥ 'debug'. Lowest common denominator wins.
Q: â€œLogs missing in Lambda?â€ â€”â€” set `forceConsole:true` to bypass stdout/stderr
redirection quirks.
Q: â€œExit after exception?â€ â€”â€” set `exitOnError:false`.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â“«  TROUBLESHOOTING CHECKLIST
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â–¡ Node version â‰¥ v14?                       `node -v`
â–¡ Multiple logger instances unintentionally? Grep for `createLogger(`
â–¡ Transport flushed? Listen for `'finish'` or call `await logger.end()`.
â–¡ Circular meta? Use `util.inspect` depth limiter or custom replacer.
â–¡ File permissions? Ensure path exists & write perms (`mkdir -p logs`).

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â“¬  APPENDIX
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Cheat-Sheet
â€¢ Quick log: `logger.info('msg', { meta })`
â€¢ Flush & exit:
`ts
    logger.end();            // stop writing
    await once(logger,'finish');
    process.exit(0);
    `
â€¢ Color + JSON line:
`winston.format.colorize({ all:true })`
â€¢ Interpolation:
`format: combine(splat(), simple())`

Official Links
â€¢ Docs & READMEâ€ƒ[https://github.com/winstonjs/winston](https://github.com/winstonjs/winston)
â€¢ Examplesâ€ƒâ€ƒâ€ƒ  [https://github.com/winstonjs/winston/tree/master/examples](https://github.com/winstonjs/winston/tree/master/examples)
â€¢ Community transports curated under npm scope `winston-*`

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
END OF RULE FILE â€” Happy Logging! ğŸš€
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

```
```
